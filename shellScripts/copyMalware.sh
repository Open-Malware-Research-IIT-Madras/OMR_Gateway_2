#!/bin/bash

# Hardcoded variables
USERNAME="jugaad"
IP="192.168.3.1"
PASSWORD="jug@@d*%$"
SOURCE_DIR="/home/omr/files"
DEST_DIR="/home/jugaad/jugaad/Malware/Profiler_OS_NW/malware_submission"

# Check if a file name was provided as argument
if [ $# -ne 1 ]; then
    echo "Usage: $0 <filename>"
    exit 1
fi

# File name provided as argument
FILENAME=$1

# Using `sshpass` to handle password for scp
#sshpass -p "$PASSWORD" scp "$SOURCE_DIR/$FILENAME" "$USERNAME@$IP:$DEST_DIR"
scp "$SOURCE_DIR/$FILENAME" "$USERNAME@$IP:$DEST_DIR"

if [ $? -eq 0 ]; then
    echo "File $FILENAME copied successfully to $IP:$DEST_DIR"
else
    echo "File $FILENAME could not be copied."
fi



